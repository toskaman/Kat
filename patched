if not game:IsLoaded()then game.Loaded:Wait()end;if not syn_checkcaller and not PROTOSMASHER_LOADED then error"Unsupported exploit."end;if cross_settings then myRoles=cross_settings.myRoles;myColor=cross_settings.myColor;RGB_ENABLED=cross_settings.RGB_ENABLED;WS_URL=cross_settings.WS_URL;DSQQSF65PTION_f0qs456156sY=cross_settings.DSQQSF65PTION_f0qs456156sY end;if not WS_URL then error"Set the required global variables."end;local a;if syn_checkcaller then a=syn.websocket.connect(WS_URL)elseif PROTOSMASHER_LOADED then a=WebSocket.new(WS_URL)a:ConnectToServer()end;local b=game:GetService("StarterGui")local c=game:GetService("Players").LocalPlayer;getProperties={Color=Color3.fromRGB(255,255,0),Font=Enum.Font.SourceSansBold,TextSize=18}sendProperties={Color=myColor,Font=Enum.Font.SourceSansBold,TextSize=18}local d="h369ZWd@S2Y5U%Z!"function encrypt(e)if syn_checkcaller then return syn.crypt.custom.encrypt("aes-cbc",e,DSQQSF65PTION_f0qs456156sY,d)elseif PROTOSMASHER_LOADED then return AES.Encrypt(e,DSQQSF65PTION_f0qs456156sY,d)end end;function decrypt(e)if syn_checkcaller then return syn.crypt.custom.decrypt("aes-cbc",e,DSQQSF65PTION_f0qs456156sY,d)elseif PROTOSMASHER_LOADED then return AES.Decrypt(e,DSQQSF65PTION_f0qs456156sY,d)end end;function toTable(f)if not f:find"^%s*{"then return nil end;if f:find'[^\'"%w_]function[^\'"%w_]'then return nil end;f="return "..f;local g=loadstring(f,"tbl","t",{})if not g then return nil end;local h,i=pcall(g)if h then return i else return nil end end;function getMessage(j)if j=="Connected"then return j end;local k=toTable(decrypt(j))return k end;function sendMessage(l)a:Send(encrypt(l))end;function invite()Server=tostring(game.PlaceId)..":"..tostring(game.JobId)sendMessage("{Server = '"..Server.."', Name = 'SERVER',Roles = {}, Message = '"..c.Name.." has invited you to join their server ! Type !join to join.', Color = Color3.fromRGB(255, 255, 0)}")end;local m=""function join()lol=m:split":"game:GetService("TeleportService"):TeleportToPlaceInstance(tonumber(lol[1]),lol[2],c)end;function constructRoles(n)local o=""for p,q in pairs(n)do o=o.."["..q.."] "end;return o end;function tostringr(n)local o="{"for p,q in pairs(n)do o=o.."'"..q.."', "end;return o:sub(1,#o-2).."}"end;local r=false;function chat(e)if r then sendProperties.Text=construct({Name=tostring(c.Name),Roles=myRoles,Message=e,Color=tostring(myColor)})b:SetCore("ChatMakeSystemMessage",sendProperties)sendMessage("{Name = '"..tostring(c.Name).."',Roles = "..tostringr(myRoles)..", Message = '"..e.."', Color = Color3.new("..tostring(myColor)..")}")end end;function construct(s)if s.Server then m=s.Server end;local t=""t=t..constructRoles(s.Roles)t=t.."["..s.Name.."]: "t=t..s.Message;getProperties.Color=s.Color;return t end;local u={}local v=function(e)u=getMessage(e)if not u then return end;if type(u)=="string"then getProperties.Text="Connected"else getProperties.Text=construct(u)end;b:SetCore("ChatMakeSystemMessage",getProperties)end;if syn_checkcaller then a.OnMessage:Connect(v)elseif PROTOSMASHER_LOADED then a.OnMessage=v end;sendMessage("{Name = 'SERVER',Roles = {}, Message = '"..c.Name.." has joined the Hub Chat !', Color = Color3.fromRGB(255, 255, 0)}")getProperties.Color=Color3.fromRGB(255,255,0)getProperties.Text="[MSHC] Say !c or !chat to toggle Hub Chat."b:SetCore("ChatMakeSystemMessage",getProperties)local w=c:FindFirstChild("PlayerGui").Chat.Frame.ChatChannelParentFrame.Frame_MessageLogDisplay.Scroller;w.ChildAdded:Connect(function(x)if RGB_ENABLED then pcall(function()if x.TextLabel.Text==construct(u)then if u.Roles[1]=="RGB"then spawn(function()function zigzag(y)return math.acos(math.cos(y*math.pi))/math.pi end;counter=0;while wait(0.8)do x.TextLabel.TextColor3=Color3.fromHSV(zigzag(counter),1,1)counter=counter+0.01 end end)end end end)end end)function toggle()r=not r;if r then getProperties.Color=Color3.fromRGB(0,230,0)getProperties.Text="[HCS] Hub Chat Enabled"else getProperties.Color=Color3.fromRGB(230,0,0)getProperties.Text="[HCS] Hub Chat Disabled"end;b:SetCore("ChatMakeSystemMessage",getProperties)end;local z,A,B=c["PlayerGui"]:WaitForChild("Chat")["Frame"].ChatBarParentFrame["Frame"].BoxFrame["Frame"].ChatBar,game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents["SayMessageRequest"],{}local C=function(D)coroutine.wrap(function()if not table.find(B,D)then local E=D["FocusLost"]:Connect(function(F)if F~=false and D["Text"]~=""then local l=D["Text"]D["Text"]=""if l=="!c"or l=="!chat"then toggle()elseif l=="!invite"then invite()elseif l=="!join"then join()elseif r then chat(l)else game:GetService("Players"):Chat(l)A:FireServer(l,"All")end end end)B[#B+1]=D;D["AncestryChanged"]:Wait()E:Disconnect()end end)()end;C(z)local G=Instance.new("BindableEvent")local H=getrawmetatable(game)local I=H.__namecall;setreadonly(H,false)H.__namecall=newcclosure(function(...)local J,K=getnamecallmethod(),{...}if rawequal(tostring(K[1]),"ChatBarFocusChanged")and rawequal(K[2],true)then if c["PlayerGui"]:FindFirstChild("Chat")then G:Fire()end end;return I(...)end)G["Event"]:Connect(function()z=c["PlayerGui"].Chat["Frame"].ChatBarParentFrame["Frame"].BoxFrame["Frame"].ChatBar;C(z)end)
